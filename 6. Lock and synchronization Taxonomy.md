6. Lock & Synchronization Taxonomy

Lock	Component	Type	Scope	Contention Risk
gRPC Rate Limiter	Ingress concurrency gate	ReentrantLock (exclusive)	Per-method singleton	High — every inbound request acquires this lock
Saga Context Init Lock	Transaction state machine	ReentrantLock (exclusive)	Per-transaction instance	Low — one lock per transaction, not shared
Worker Queue Internal Lock	Internal thread pool queue	ReentrantLock (JDK built-in)	Per worker pool	Medium — every task submission and consumption acquires this
Recovery Distributed Lock	Cross-pod recovery coordinator	Distributed lock (Redis Pub/Sub)	Cluster-wide singleton	Low — only 1 pod wins per scan interval, non-blocking for others
Idempotency Guard Lock	Revert request deduplication	Redis SET NX (atomic)	Per-transaction	Low — fire-and-forget, no waiting
DB Connection Pool	Database access layer	Lock-free CAS (ConcurrentBag)	Per connection pool	Low–Medium — degrades to blocking queue under saturation
Timeout Tracking Store	Transaction timeout registry	Redis Sorted Set (cluster-sharded)	Per shard (16 buckets)	Low — sharding distributes contention across 16 keys
Metrics Registry	Observability / monitoring	Segment lock (ConcurrentHashMap)	Global registry	Very Low — read-heavy, write rarely