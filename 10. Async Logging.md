
```sh
# run.sh:37
-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector
```

Log4j2 `AsyncLogger` uses a **LMAX Disruptor** ring buffer (default size: 256KB = 262,144 events). All log calls are non-blocking — they enqueue into the ring buffer and a background thread drains to the appender. 

Advantages:

- Ring Buffer: A pre-allocated circular array. Because it's pre-allocated, there is almost no Garbage Collection (GC) overhead—it just overwrites old log events with new ones.
- Sequence: Each slot has a sequence number. The disruptor uses atomic variable (CAS - Compare and Swap) to claim the slot in the ring buffer instead of locks to avoid overhead of locking
- Barrier: The drain thread don't overtake the application thread.

**Memory impact**: The Disruptor ring buffer pre-allocates `RingBufferLogEvent` objects at startup:
```
256 × sizeof(RingBufferLogEvent) ≈ 256 × ~1KB = 256KB (heap) -> still accepted
```